<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GRAM Top Addresses</title>
  <link rel="stylesheet" href="./styles.css" />
  <meta name="description" content="Top addresses (holders) for GRAM jetton on TON, via TonAPI. Optional token for faster rate limits." />
</head>
<body>
  <header>
    <h1>Top Addresses — GRAM</h1>

    <div class="controls">
      <label>Показать топ:
        <select id="limit">
          <option>25</option><option selected>50</option><option>100</option><option>250</option>
        </select>
      </label>
      <input id="search" placeholder="Фильтр по адресу…" />
      <button id="reload">Обновить</button>

      <!-- Блок токена -->
      <div class="token-box">
        <input id="token" type="text" placeholder="TONAPI токен (необязательно)" autocomplete="off" />
        <button id="saveToken">Сохранить</button>
        <button id="clearToken" class="ghost">Очистить</button>
        <span id="authBadge" class="badge">Auth: none</span>
      </div>

    </div>

    <div id="meta" class="meta"></div>
  </header>

  <main>
    <table id="tbl">
      <thead>
        <tr>
          <th>#</th>
          <th>Адрес</th>
          <th class="num">Баланс (GRAM)</th>
          <th class="num">% от саплая</th>
        </tr>
      </thead>
      <tbody id="rows">
        <tr><td colspan="4" class="muted">Загрузка…</td></tr>
      </tbody>
    </table>

    <div class="pager">
      <button id="prev">Назад</button>
      <span id="pageinfo"></span>
      <button id="next">Вперёд</button>
    </div>
  </main>

  <footer>
    <small>
      Данные: TonAPI • GRAM jetton master: EQC47093oX5Xhb0xuk2lCr2RhS8rj-vul61u4W2UH5ORmG_O •
      Без токена лимит 1 запрос / 4 с. С токеном — быстрее (по лимитам TonAPI).
    </small>
  </footer>

  <script>
    // Jetton master GRAM в TON
    window.GRAM_MASTER = "EQC47093oX5Xhb0xuk2lCr2RhS8rj-vul61u4W2UH5ORmG_O";
  </script>
  <script type="module" src="./app.js"></script>
</body>
</html>
